<template>
  <div class="flex flex-row justify-between xl:hidden lg:hidden py-2 inset-0 z-40">
    <div class="ml-4">
      <router-link to="/">
        <svg width="30" height="30" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="Group 1">
            <g id="g30">
              <g id="path32">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M37 1.12305C17.5048 1.12685 7.46519 1.14961 6.88125 1.19134C6.2973 1.23307 5.65079 1.37905 4.94171 1.6293C4.23261 1.87956 3.69037 2.21324 3.31498 2.63035C2.93958 3.04745 2.58503 3.50628 2.25134 4.00682C1.91765 4.50735 1.64654 5.13302 1.438 5.88382C1.22945 6.63462 1.10432 7.46883 1.06259 8.38647C1.02086 9.30409 1 18.7989 1 36.871C2.31582 36.9071 3.50749 36.779 4.57502 36.4866C5.64254 36.1943 6.43978 35.7966 6.96674 35.2936C7.49369 34.7906 7.90739 34.1984 8.20784 33.5169C8.50829 32.8353 8.68076 32.0464 8.72524 31.15C8.76973 30.2537 8.77003 27.4693 8.72614 22.7969L31.2992 22.932C32.3224 22.6375 33.0644 22.383 33.5253 22.1684C33.9862 21.9537 34.4575 21.6052 34.9392 21.1228C35.4208 20.6404 35.8285 20.0447 36.1622 19.3356C36.4959 18.6265 36.7706 17.253 36.9865 15.2151L8.75816 15.1436L8.76654 8.72911L31.445 8.73139C33.1453 8.4885 34.3073 8.14339 34.9311 7.69608C35.5548 7.24877 36.0028 6.6734 36.2749 5.96997C36.5471 5.26654 36.7598 4.19505 36.913 2.75549"
                  fill="#151616" />
                <path
                  d="M37 1.12305C17.5048 1.12685 7.46519 1.14961 6.88125 1.19134C6.2973 1.23307 5.65079 1.37905 4.94171 1.6293C4.23261 1.87956 3.69037 2.21324 3.31498 2.63035C2.93958 3.04745 2.58503 3.50628 2.25134 4.00682C1.91765 4.50735 1.64654 5.13302 1.438 5.88382C1.22945 6.63462 1.10432 7.46883 1.06259 8.38647C1.02086 9.30409 1 18.7989 1 36.871C2.31582 36.9071 3.50749 36.779 4.57502 36.4866C5.64254 36.1943 6.43978 35.7966 6.96674 35.2936C7.49369 34.7906 7.90739 34.1984 8.20784 33.5169C8.50829 32.8353 8.68076 32.0464 8.72524 31.15C8.76973 30.2537 8.77003 27.4693 8.72614 22.7969L31.2992 22.932C32.3224 22.6375 33.0644 22.383 33.5253 22.1684C33.9862 21.9537 34.4575 21.6052 34.9392 21.1228C35.4208 20.6404 35.8285 20.0447 36.1622 19.3356C36.4959 18.6265 36.7706 17.253 36.9865 15.2151L8.75816 15.1436L8.76654 8.72911L31.445 8.73139C33.1453 8.4885 34.3073 8.14339 34.9311 7.69608C35.5548 7.24877 36.0028 6.6734 36.2749 5.96997C36.5471 5.26654 36.7598 4.19505 36.913 2.75549"
                  stroke="#151616" stroke-width="0.5669" />
              </g>
            </g>
          </g>
        </svg>
      </router-link>
    </div>
    <!-- Sidebar -->
    <div class="absolute flex top-0 h-full z-20"
      :class="[sidebarOnRight ? 'right-0 flex-row' : 'left-0 flex-row-reverse']">
      <!--Drawer -->
      <button @click.prevent="toggle()" class="w-4 h-8 p-1 mt-1 mr-6 rounded duration-300">
        <span v-show="!open" :class="[sidebarOnRight ? '-rotate-0' : 'rotate-0']"
          class="block transform origin-center font-bold">
          <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="menu">
              <path id="Vector" d="M4 18H20M4 6H20H4ZM4 12H20H4Z" stroke="#858585" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
            </g>
          </svg>

        </span>
      </button>
      <div ref="content" class="transition-all bg-white duration-700 overflow-hidden flex items-start justify-start"
        :class="[open ? 'max-w-lg' : 'max-w-0']">
        <div class="pl-2 pt-2 w-48 text-left font-bold text-xl">
          <ul class="flex flex-col justify-start items-start text-black text-lg font-semibold">
            <div class="flex flex-row gap-2 pl-2">
              <router-link to="/" class="flex flex-row gap-2">
                <svg width="24" height="24" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g id="Group 1">
                    <g id="g30">
                      <g id="path32">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M37 1.12305C17.5048 1.12685 7.46519 1.14961 6.88125 1.19134C6.2973 1.23307 5.65079 1.37905 4.94171 1.6293C4.23261 1.87956 3.69037 2.21324 3.31498 2.63035C2.93958 3.04745 2.58503 3.50628 2.25134 4.00682C1.91765 4.50735 1.64654 5.13302 1.438 5.88382C1.22945 6.63462 1.10432 7.46883 1.06259 8.38647C1.02086 9.30409 1 18.7989 1 36.871C2.31582 36.9071 3.50749 36.779 4.57502 36.4866C5.64254 36.1943 6.43978 35.7966 6.96674 35.2936C7.49369 34.7906 7.90739 34.1984 8.20784 33.5169C8.50829 32.8353 8.68076 32.0464 8.72524 31.15C8.76973 30.2537 8.77003 27.4693 8.72614 22.7969L31.2992 22.932C32.3224 22.6375 33.0644 22.383 33.5253 22.1684C33.9862 21.9537 34.4575 21.6052 34.9392 21.1228C35.4208 20.6404 35.8285 20.0447 36.1622 19.3356C36.4959 18.6265 36.7706 17.253 36.9865 15.2151L8.75816 15.1436L8.76654 8.72911L31.445 8.73139C33.1453 8.4885 34.3073 8.14339 34.9311 7.69608C35.5548 7.24877 36.0028 6.6734 36.2749 5.96997C36.5471 5.26654 36.7598 4.19505 36.913 2.75549"
                          fill="#151616" />
                        <path
                          d="M37 1.12305C17.5048 1.12685 7.46519 1.14961 6.88125 1.19134C6.2973 1.23307 5.65079 1.37905 4.94171 1.6293C4.23261 1.87956 3.69037 2.21324 3.31498 2.63035C2.93958 3.04745 2.58503 3.50628 2.25134 4.00682C1.91765 4.50735 1.64654 5.13302 1.438 5.88382C1.22945 6.63462 1.10432 7.46883 1.06259 8.38647C1.02086 9.30409 1 18.7989 1 36.871C2.31582 36.9071 3.50749 36.779 4.57502 36.4866C5.64254 36.1943 6.43978 35.7966 6.96674 35.2936C7.49369 34.7906 7.90739 34.1984 8.20784 33.5169C8.50829 32.8353 8.68076 32.0464 8.72524 31.15C8.76973 30.2537 8.77003 27.4693 8.72614 22.7969L31.2992 22.932C32.3224 22.6375 33.0644 22.383 33.5253 22.1684C33.9862 21.9537 34.4575 21.6052 34.9392 21.1228C35.4208 20.6404 35.8285 20.0447 36.1622 19.3356C36.4959 18.6265 36.7706 17.253 36.9865 15.2151L8.75816 15.1436L8.76654 8.72911L31.445 8.73139C33.1453 8.4885 34.3073 8.14339 34.9311 7.69608C35.5548 7.24877 36.0028 6.6734 36.2749 5.96997C36.5471 5.26654 36.7598 4.19505 36.913 2.75549"
                          stroke="#151616" stroke-width="0.5669" />
                      </g>
                    </g>
                  </g>
                </svg>
                <p class="text-black">Isfara shoes</p>
              </router-link>
            </div>
            <li class="hover:bg-gray-200 my-1 pl-1 py-1 w-full rounded-lg">
              <router-link to="/">Главная</router-link>
            </li>
            <li class="hover:bg-gray-200 my-1 pl-1 py-1 w-full rounded-lg">
              <router-link to="/about">О компании</router-link>
            </li>
            <li class="hover:bg-gray-200 my-1 pl-1 py-1 w-full rounded-lg">
              <router-link to="/product">Продукция</router-link>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <transition name="fade">
      <div v-if="dimmer && open" @click="toggle()" class="fixed inset-0 bg-gray-800 opacity-75 z-10"></div>
    </transition>
  </div>
  <nav
    class="xl:flex lg:flex hidden items-center justify-between py-4 bg-white text-white shadow-sm xl:px-12 lg:px-12 px-0">
    <div class="flex items-center justify-between xl:mx-8 lg:mx-8 mx-0">
      <router-link to="/">
        <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="Group 1">
            <g id="g30">
              <g id="path32">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M37 1.12305C17.5048 1.12685 7.46519 1.14961 6.88125 1.19134C6.2973 1.23307 5.65079 1.37905 4.94171 1.6293C4.23261 1.87956 3.69037 2.21324 3.31498 2.63035C2.93958 3.04745 2.58503 3.50628 2.25134 4.00682C1.91765 4.50735 1.64654 5.13302 1.438 5.88382C1.22945 6.63462 1.10432 7.46883 1.06259 8.38647C1.02086 9.30409 1 18.7989 1 36.871C2.31582 36.9071 3.50749 36.779 4.57502 36.4866C5.64254 36.1943 6.43978 35.7966 6.96674 35.2936C7.49369 34.7906 7.90739 34.1984 8.20784 33.5169C8.50829 32.8353 8.68076 32.0464 8.72524 31.15C8.76973 30.2537 8.77003 27.4693 8.72614 22.7969L31.2992 22.932C32.3224 22.6375 33.0644 22.383 33.5253 22.1684C33.9862 21.9537 34.4575 21.6052 34.9392 21.1228C35.4208 20.6404 35.8285 20.0447 36.1622 19.3356C36.4959 18.6265 36.7706 17.253 36.9865 15.2151L8.75816 15.1436L8.76654 8.72911L31.445 8.73139C33.1453 8.4885 34.3073 8.14339 34.9311 7.69608C35.5548 7.24877 36.0028 6.6734 36.2749 5.96997C36.5471 5.26654 36.7598 4.19505 36.913 2.75549"
                  fill="#151616" />
                <path
                  d="M37 1.12305C17.5048 1.12685 7.46519 1.14961 6.88125 1.19134C6.2973 1.23307 5.65079 1.37905 4.94171 1.6293C4.23261 1.87956 3.69037 2.21324 3.31498 2.63035C2.93958 3.04745 2.58503 3.50628 2.25134 4.00682C1.91765 4.50735 1.64654 5.13302 1.438 5.88382C1.22945 6.63462 1.10432 7.46883 1.06259 8.38647C1.02086 9.30409 1 18.7989 1 36.871C2.31582 36.9071 3.50749 36.779 4.57502 36.4866C5.64254 36.1943 6.43978 35.7966 6.96674 35.2936C7.49369 34.7906 7.90739 34.1984 8.20784 33.5169C8.50829 32.8353 8.68076 32.0464 8.72524 31.15C8.76973 30.2537 8.77003 27.4693 8.72614 22.7969L31.2992 22.932C32.3224 22.6375 33.0644 22.383 33.5253 22.1684C33.9862 21.9537 34.4575 21.6052 34.9392 21.1228C35.4208 20.6404 35.8285 20.0447 36.1622 19.3356C36.4959 18.6265 36.7706 17.253 36.9865 15.2151L8.75816 15.1436L8.76654 8.72911L31.445 8.73139C33.1453 8.4885 34.3073 8.14339 34.9311 7.69608C35.5548 7.24877 36.0028 6.6734 36.2749 5.96997C36.5471 5.26654 36.7598 4.19505 36.913 2.75549"
                  stroke="#151616" stroke-width="0.5669" />
              </g>
            </g>
          </g>
        </svg>
      </router-link>
    </div>
    <ul class="flex justify-center items-center space-x-4 text-black text-lg font-medium">
      <div :class="{ 'border-b-2 border-primary': activeLink === 1 }">
        <li @click="setActiveLink(1)">
          <router-link :class="{ 'text-primary': activeLink === 1 }" to="/">Главная</router-link>
        </li>
      </div>
      <div :class="{ 'border-b-2 border-primary': activeLink === 2 }">
        <li @click="setActiveLink(2)">
          <router-link :class="{ 'text-primary': activeLink === 2 }" to="/about">О компании</router-link>
        </li>
      </div>
      <div :class="{ 'border-b-2 border-primary': activeLink === 3 }">
        <li @click="setActiveLink(3)">
          <router-link :class="{ 'text-primary': activeLink === 3 }" to="/product">Продукция</router-link>
        </li>
      </div>
    </ul>
    <div class="text-gray-900 font-semibold xl:flex lg:flex hidden flex-row">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="phone">
          <path id="Vector"
            d="M3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V6C3 14.284 9.716 21 18 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V15.721C21.0001 15.511 20.934 15.3064 20.8112 15.136C20.6885 14.9657 20.5152 14.8383 20.316 14.772L15.823 13.274C15.5947 13.1981 15.3466 13.2071 15.1244 13.2993C14.9021 13.3915 14.7205 13.5607 14.613 13.776L13.483 16.033C11.0345 14.9267 9.07332 12.9655 7.967 10.517L10.224 9.387C10.4393 9.27945 10.6085 9.0979 10.7007 8.87564C10.7929 8.65339 10.8019 8.40534 10.726 8.177L9.228 3.684C9.16171 3.48496 9.03449 3.3118 8.86436 3.18905C8.69422 3.0663 8.48979 3.00016 8.28 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579Z"
            stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </g>
      </svg> +992 (92) 707 55 66
    </div>
  </nav>
</template>

<script>
export default {
  name: 'the-navbar',
  data() {
    return {
      sidebarOnRight: true, // Set to true to place the sidebar on the right
      activeLink: null,
      isOpen: true,
      open: false,
      dimmer: true,
      right: false
    };
  },
  methods: {
    setActiveLink(linkNumber) {
      this.activeLink = linkNumber;
    },
    toggleSidebar() {
      this.isOpen = !this.isOpen;
    },
    toggle() {
      this.open = !this.open;
    }
  }
};
</script>

<style>
.fade-enter-active,
.fade-leave-active {
  transition: opacity 1s ease-out;
}

.fade-enter,
.fade-leave-to {
  opacity: 0;
}
</style>